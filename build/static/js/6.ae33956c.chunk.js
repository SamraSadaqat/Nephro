(this.webpackJsonpreturnbees=this.webpackJsonpreturnbees||[]).push([[6],{100:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(101),o=a.n(n),r=a(19),s=a(102),c=a(150),i=a.n(c),l="https://return-bees-3jm6r.ondigitalocean.app/api/v1/",u={login:l+"user/login",me:l+"user/me",users:l+"user/all-users",stores:l+"/store/all-store",deletestore:l+"/store/delete",updatestore:l+"/store/update-store",addstore:l+"/store/",managestore:l+"store/manage-store",states:l+"/state/all-state",managestate:l+"/state/manage-state",managereturn:l+"/user-return/manage-user-return",deletestate:l+"/state/delete",returns:l+"/user-return/all-user-return"},d=function(e){return void 0!=e?{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+e}:{"Content-Type":"application/json",Accept:"application/json"}},g=a(30),p=a(160),b=a.n(p),f={login:function(){var e=Object(s.a)(o.a.mark((function e(t,a,n,c,l){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("URL ----",u.login),e.next=3,i.a.post(u.login,Object(r.a)(Object(r.a)({},t),{},{device_token:localStorage.getItem("@fcmToken")})).then(function(){var e=Object(s.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.data){e.next=13;break}return console.log(t.data),localStorage.setItem("@appToken",t.data.data.access_token),l(!1),n(!1),c(!1),r=d(t.data.data.access_token),e.next=9,i.a.get(u.me,{headers:r}).then(function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.authenticate(),console.log("me: ",t.data.data),console.log(t.data.data),localStorage.setItem("@user",t.data.data),a.history.push("dashboard");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("inside me",e.response.data.message),n(!0),c(!1)}));case 9:return console.log("here"),e.abrupt("return",!0);case 13:console.log("Data nahi mila",t.data.message),l(!0),c(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),console.log(e.response.data.message),l(!1),n(!0),c(!1),!1}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,o,r){return e.apply(this,arguments)}}(),users:function(e,t,a,n){a(!0),i.a.get(n?u.users+"?name=".concat(n):u.users,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("@appToken")}}).then((function(n){a(!1),1==n.data.status&&(t(n.data.data),e(n.data.data),console.log("DAta",n.data.data))})).catch((function(e){a(!1),console.log(e.message)}))},states:function(e,t){t(!0),i.a.get(u.states,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("@appToken")}}).then((function(a){t(!1),1==a.data.status&&e(a.data.data)})).catch((function(e){t(!1),console.log(e.message)}))},deletestate:function(e,t){var a=d(localStorage.getItem("@appToken"));i.a.delete(u.deletestate+"?store_id=".concat(e),{headers:a}).then((function(e){1==e.data.status&&t([])})).catch((function(e){console.log(e.message)}))},managestate:function(e,t){var a=d(localStorage.getItem("@appToken"));console.log("Headers",a),i.a.post(u.managestate+"?state_id=".concat(e),{},{headers:a}).then((function(e){1==e.data.status&&t([])})).catch((function(e){b()("Oops!","Something went wrong!","error")}))},managereturn:function(e,t,a,n){var o=d(localStorage.getItem("@appToken"));console.log("Headers",o),i.a.post(u.managereturn+"?return_id=".concat(e,"&return_status=").concat(t),{},{headers:o}).then((function(e){1==e.data.status&&(a([]),n())})).catch((function(e){b()("Oops!","Something went wrong!","error")}))},returns:function(e,t){t(!0),i.a.get(u.returns,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("@appToken")}}).then((function(a){t(!1),1==a.data.status&&(e(a.data.data),console.log(a.data.data))})).catch((function(e){t(!1),console.log(e.message)}))},stores:function(e,t){t(!0),i.a.get(u.stores,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("@appToken")}}).then((function(a){t(!1),1==a.data.status&&e(a.data.data)})).catch((function(e){t(!1),console.log(e.message)}))},managestore:function(e,t,a){var n=d(localStorage.getItem("@appToken"));console.log("Headers",n),i.a.post(u.managestore+"?store_id=".concat(e),{},{headers:n}).then((function(e){1==e.data.status&&(a([]),t())})).catch((function(e){b()("Oops!","Something went wrong!","error")}))},addstores:function(e,t){t(!0);var a=d(localStorage.getItem("@appToken"));i.a.post(u.addstore,e,{headers:a}).then((function(e){t(!1),e.data.status,alert(e.data.message)})).catch((function(e){t(!1),console.log(e.message)}))},deletestores:function(e,t,a){var n=d(localStorage.getItem("@appToken"));i.a.delete(u.deletestore+"?store_id=".concat(e),{headers:n}).then((function(e){1==e.data.status&&(a([]),t())})).catch((function(e){console.log(e.message)}))},updatestores:function(e,t,a){i.a.post(u.updatestore,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("@appToken")}}).then((function(e){a(!1),1==e.data.status&&t()})).catch((function(e){console.log(e.message)}))}}},123:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n,o=a(39),r=(n={white:"#ffffff",black:"#000000",buttonBlue:"#2F5496",backgroundPurple:"#613577",inputGray:"#EEEEEE",borderGray:"#0000003D",shadowGray:"#00000029",text2Gray:"#ADAFCA",btn1:"#3E3F5E",dropdownGray:"#707070",badgeOrange:"#F3670A",headingBlack:"#1C1C1C",stepperOrange:"#FC4A00",featuredPink:"#DA1793",featuredPurple:"#6741DC",stepperGray:"#D5D5D5",newGreen:"#4CA80B",captionGray:"#A3A3A3",trendingBlue:"#007BFF",dividerGray:"#E1E1E1",footerBlack:"#222222",footerInputGray:"#AEAEAE",textPurple:"#5E3174",buttonGray:"#E6E3E3",textGreen:"#009D00"},Object(o.a)(n,"stepperGray","#C8C7C7"),Object(o.a)(n,"error","#CC3300"),Object(o.a)(n,"boxShadow","#744E8745"),n)},279:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(39),o=a(101),r=a.n(o),s=a(102),c=a(99),i=a(3),l=a(1),u=a(245),d=a(247),g=a(282),p=a(253),b=a(254),f=a(87),m=a(100),h=a(21),j=a.p+"static/media/bg-image.0afeefa5.png",O={loginLogo:h.a,bgImg:j},y=a(123),v=a(2),k=a(8),x=(a(6),a(91)),C=a(93),w=a(92),S=a(124),T=a(94),B=l.forwardRef((function(e,t){var a=e.classes,n=e.className,o=e.color,r=void 0===o?"primary":o,s=e.component,c=void 0===s?"a":s,i=e.onBlur,d=e.onFocus,g=e.TypographyClasses,p=e.underline,b=void 0===p?"hover":p,f=e.variant,m=void 0===f?"inherit":f,h=Object(k.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),j=Object(S.a)(),O=j.isFocusVisible,y=j.onBlurVisible,w=j.ref,B=l.useState(!1),F=B[0],I=B[1],A=Object(T.a)(t,w);return l.createElement(u.a,Object(v.a)({className:Object(x.a)(a.root,a["underline".concat(Object(C.a)(b))],n,F&&a.focusVisible,"button"===c&&a.button),classes:g,color:r,component:c,onBlur:function(e){F&&(y(),I(!1)),i&&i(e)},onFocus:function(e){O(e)&&I(!0),d&&d(e)},ref:A,variant:m},h))})),F=Object(w.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(B),I=a(274);function A(){return Object(i.jsxs)(u.a,{style:{fontFamily:"Poppins",fontWeight:"800"},variant:"body2",color:"textSecondary",align:"center",children:[" \xa9 ",Object(i.jsx)(F,{color:"inherit",href:"#",children:"ReturnBees"})," ",(new Date).getFullYear(),"."]})}function E(e){var t=D(),a=Object(l.useRef)(null),n=Object(l.useRef)(null),o=Object(l.useState)(!1),u=Object(c.a)(o,2),f=u[0],h=u[1],j=Object(l.useState)(""),y=Object(c.a)(j,2),v=y[0],k=y[1],x=Object(l.useState)(""),C=Object(c.a)(x,2),w=C[0],S=C[1],T=Object(l.useState)(!1),B=Object(c.a)(T,2),F=B[0],E=B[1],P=Object(l.useState)(!1),G=Object(c.a)(P,2),N=G[0],z=G[1],R=Object(l.useState)(!1),_=Object(c.a)(R,2),L=_[0],W=_[1],H=Object(l.useState)(!1),V=Object(c.a)(H,2),U=V[0],J=V[1],K=Object(l.useState)(!1),q=Object(c.a)(K,2),M=q[0],Y=q[1],$=function(){var t=Object(s.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v&&w){t.next=8;break}Y(!1),J(!1),h(!0),v||E(!0),w||z(!0),t.next=13;break;case 8:return h(!1),W(!0),a={email:v,password:w},t.next=13,m.a.login(a,e,J,W,Y);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.jsx)("div",{className:t.bg,children:Object(i.jsxs)(d.a,{className:t.root,children:[Object(i.jsx)(d.a,{xl:3,lg:3,md:7,xs:6,spacing:10,container:!0,direction:"column",justify:"center",alignItems:"center",alignContent:"center",className:t.container,children:Object(i.jsxs)("div",{className:t.paper,children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:O.loginLogo})}),f&&Object(i.jsx)("p",{style:{color:"#CC3300"},children:"* All fields are required"}),M&&Object(i.jsx)("p",{style:{color:"#CC3300"},children:"* Please wait your account is pending with admin approval"}),Object(i.jsxs)("form",{className:"loginForm",children:[Object(i.jsx)(g.a,{InputProps:{classes:{notchedOutline:t.notchedOutline}},error:F,variant:"outlined",onKeyPress:function(e){"Enter"===e.key&&a.current.focus()},label:"Email or Username",autoFocus:!0,onChange:function(e){k(e.target.value),E(!1)},className:t.inputFields}),Object(i.jsx)(g.a,{InputProps:{classes:{notchedOutline:t.notchedOutline}},error:N,type:"password",variant:"outlined",onKeyPress:function(e){"Enter"===e.key&&n.current.click()},onChange:function(e){S(e.target.value),z(!1)},label:"Password",inputRef:a,className:t.inputFields}),Object(i.jsxs)(d.a,{container:!0,component:"div",direction:"row",justify:"space-between",className:t.buttonContainer,children:[Object(i.jsxs)(p.a,{disabled:L,classes:{root:t.loginButton,disabled:t.loginButtonDisabled},innerRef:n,className:L?t.loginButtonDisabled:t.loginButton,variant:"contained",onClick:$,children:["Login",L&&Object(i.jsx)(b.a,{size:24,className:t.loginLoader})]}),U&&Object(i.jsx)("p",{style:{fontSize:14,fontWeight:900,color:"#F44336"},children:"Invalid Username or Password"})]})]})]})}),Object(i.jsx)(I.a,{mt:5,children:Object(i.jsx)(A,{})})]})})}var D=Object(f.a)((function(e){var t;return{root:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},paper:{marginTop:e.spacing(8),backgroundImage:"linear-gradient(to top, #ffffff ,#F2D184)",padding:20,borderRadius:30,border:"1px solid black",justifyContent:"center"},logo:{marginTop:30,marginBottom:30,width:150,height:150,objectFit:"contain"},LoginComponent:{padding:30,justifyContent:"center",alignItems:"center",borderRadius:12},heading:{color:y.a.black,margin:0,marginTop:8,marginBottom:8,fontFamily:"Poppins"},text:{color:y.a.black,margin:0,marginTop:8,marginBottom:8},inputFields:{fontFamily:"Poppins",backgroundColor:y.a.inputGray,marginTop:20,outline:"none",width:"100%",borderRadius:12},notchedOutline:{borderWidth:"0px",color:"red"},bg:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",minHeight:"100vh",backgroundImage:"url(".concat(O.bgImg,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},buttonContainer:{margin:0,padding:0,marginTop:20},loginButton:(t={textTransform:"none",backgroundColor:"#F2D184",color:"black",fontFamily:"Poppins",fontWeight:800,fontSize:16},Object(n.a)(t,"textTransform","uppercase"),Object(n.a)(t,"fontWeight","bold"),Object(n.a)(t,"height",40),Object(n.a)(t,"width","100%"),Object(n.a)(t,"marginBottom",20),Object(n.a)(t,"&:hover",{backgroundColor:"black",color:"#F2D184"}),Object(n.a)(t,"&:disabled",{backgroundColor:y.a.buttonBlue,color:y.a.buttonBlue}),t),loginLoader:{position:"absolute",bottom:8,right:"42%",color:y.a.white},forgetButton:{textTransform:"none",color:y.a.borderGray,fontSize:14,fontWeight:"bold",height:40}}}))}}]);
//# sourceMappingURL=6.ae33956c.chunk.js.map